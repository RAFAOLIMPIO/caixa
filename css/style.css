/* Topado 2.2 - Animações & Organização */
:root {
    /* Seção de Animação */
    --animation-duration: 300ms;
    --animation-easing: cubic-bezier(0.4, 0, 0.2, 1);
    --animation-menu-delay: 150ms;
    --skeleton-animation: skeleton 1.5s ease-in-out infinite;
    
    /* Novas Cores para Estados */
    --focus-ring: rgba(59, 130, 246, 0.5);
    --loading: #94a3b8;
}

/* Animations Keyframes */
@keyframes slideIn {
    from { transform: translateX(-100%); }
    to { transform: translateX(0); }
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
}

@keyframes skeleton {
    0% { background-position: 200% 0; }
    100% { background-position: -200% 0; }
}

@keyframes buttonBounce {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-3px); }
}

/* Estrutura Principal */
.main-container {
    view-transition-name: main-container;
    contain: layout;
}

/* Animações do Sidebar */
.sidebar {
    animation: slideIn var(--animation-duration) var(--animation-easing);
}

.menu-buttons .btn {
    opacity: 0;
    animation: fadeIn var(--animation-duration) var(--animation-easing) forwards;
    animation-delay: var(--animation-menu-delay);
}

/* Animações de Conteúdo */
.content-area {
    animation: fadeIn var(--animation-duration) var(--animation-easing);
    animation-delay: calc(var(--animation-menu-delay) * 2);
}

/* Efeitos de Loading */
.skeleton {
    background: linear-gradient(90deg, var(--border) 25%, var(--loading) 50%, var(--border) 75%);
    background-size: 200% 100%;
    animation: var(--skeleton-animation);
    border-radius: var(--radius-sm);
}

/* Melhorias nos Botões */
.btn {
    transition: 
        transform var(--animation-duration) var(--animation-easing),
        box-shadow var(--animation-duration) var(--animation-easing),
        background-color var(--animation-duration) var(--animation-easing);
}

.btn-loading {
    position: relative;
    color: transparent;
    pointer-events: none;
}

.btn-loading::after {
    content: "";
    position: absolute;
    width: 20px;
    height: 20px;
    border: 2px solid white;
    border-top-color: transparent;
    border-radius: 50%;
    animation: spin 1s linear infinite;
}

@keyframes spin {
    to { transform: rotate(360deg); }
}

/* Animações de Formulário */
.form-input:focus {
    animation: inputFocus 0.3s ease-out;
}

@keyframes inputFocus {
    0% { transform: scale(1); }
    50% { transform: scale(1.02); }
    100% { transform: scale(1); }
}

/* Efeitos na Tabela */
.table tr {
    transition: transform var(--animation-duration) ease, box-shadow var(--animation-duration) ease;
}

.table tr:hover {
    transform: translateX(4px);
    box-shadow: var(--shadow-hover);
}

/* Animações de Notificação */
.alert {
    animation: slideIn 0.5s var(--animation-easing), 
               fadeIn 0.5s var(--animation-easing);
}

/* Transição de Página */
@media (prefers-reduced-motion: no-preference) {
    ::view-transition-old(root) {
        animation: fadeOut var(--animation-duration) var(--animation-easing);
    }
    
    ::view-transition-new(root) {
        animation: fadeIn var(--animation-duration) var(--animation-easing);
    }
}

/* Organização das Seções */
/* ==================== */
/* Componentes Principais */
/* ==================== */
.card {
    background: var(--surface);
    border-radius: var(--radius-md);
    padding: var(--space-md);
    box-shadow: var(--shadow);
    animation: cardEntrance 0.6s var(--animation-easing);
}

@keyframes cardEntrance {
    from {
        opacity: 0;
        transform: translateY(20px) rotateX(-10deg);
    }
    to {
        opacity: 1;
        transform: translateY(0) rotateX(0);
    }
}

/* Micro-interações */
.icon {
    transition: transform 0.2s ease;
}

.icon:hover {
    transform: rotate(15deg) scale(1.1);
}

.progress-bar {
    height: 4px;
    background: var(--border);
    overflow: hidden;
    border-radius: var(--radius-sm);
}

.progress-bar::after {
    content: "";
    display: block;
    width: 100%;
    height: 100%;
    background: var(--primary);
    transform-origin: left;
    animation: progressFill 2s var(--animation-easing);
}

@keyframes progressFill {
    from { transform: scaleX(0); }
    to { transform: scaleX(1); }
}

/* Organização Responsiva */
@media (max-width: 768px) {
    .sidebar {
        animation: mobileMenuSlide 0.4s var(--animation-easing);
    }

    @keyframes mobileMenuSlide {
        from { transform: translateY(100%); }
        to { transform: translateY(0); }
    }
}

/* Seção de Utilidades */
.hover-expand {
    transition: transform var(--animation-duration) var(--animation-easing);
}

.hover-expand:hover {
    transform: scale(1.05);
}

.shake {
    animation: shake 0.5s var(--animation-easing);
}

@keyframes shake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(5px); }
    75% { transform: translateX(-5px); }
}